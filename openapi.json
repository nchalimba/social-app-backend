{
  "openapi": "3.0.0",
  "info": {
    "title": "chalimba-social",
    "description": "This is the API-documentation of the chalimba-social REST API.",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "https://chalimba-social.herokuapp.com/"
    }
  ],
  "tags": [
    {
      "name": "Authentication",
      "description": "Endpoints regarding user authentication."
    },
    {
      "name": "User",
      "description": "Endpoints regarding user and profile CRUD operations."
    },
    {
      "name": "Post",
      "description": "Endpoints regarding CRUD operations for posts."
    },
    {
      "name": "File"
    },
    {
      "name": "Message",
      "description": "Endpoints regarding instant messaging feature (not yet integrated to frontend)."
    }
  ],
  "paths": {
    "/auth/login": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Login",
        "description": "This is the endpoint to authenticate a user with credentials. It must be called before any authorized endpoints and returns http only cookies containing the access and refresh token.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "email": "jane@doe.com",
                  "password": "test1234"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    },
    "/auth/logout": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Log out",
        "requestBody": {
          "content": {}
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    },
    "/auth/register": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Register user",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "username": "johndoe",
                  "email": "john.doe@example.com",
                  "firstName": "John",
                  "lastName": "Doe",
                  "password": "test1234"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    },
    "/user/current": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Get current user",
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    },
    "/user": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Get user by username",
        "parameters": [
          {
            "name": "username",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "example": "janedoe"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    },
    "/user/61c65112bdad8fe90ae8463e/follow": {
      "put": {
        "tags": [
          "User"
        ],
        "summary": "Follow user",
        "requestBody": {
          "content": {}
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    },
    "/user/619d7f2e567fd0c132ce33bb": {
      "delete": {
        "tags": [
          "User"
        ],
        "summary": "Delete user",
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    },
    "/user/61c65112bdad8fe90ae8463e": {
      "put": {
        "tags": [
          "User"
        ],
        "summary": "Update user",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "description": "This is an updated description."
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": {
              "type": "string"
            },
            "example": "{{accessToken}}"
          },
          {
            "name": "x-refresh",
            "in": "header",
            "schema": {
              "type": "string"
            },
            "example": "{{refreshToken}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    },
    "/user/friends": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Get friends",
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    },
    "/user/": {
      "get": {
        "tags": [
          "User"
        ],
        "summary": "Get user by id",
        "parameters": [
          {
            "name": "userId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "example": "61c65112bdad8fe90ae8463e"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    },
    "/user/61c65112bdad8fe90ae8463e/unfollow": {
      "put": {
        "tags": [
          "User"
        ],
        "summary": "Unfollow user",
        "requestBody": {
          "content": {}
        },
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": {
              "type": "string"
            },
            "example": "{{accessToken}}"
          },
          {
            "name": "x-refresh",
            "in": "header",
            "schema": {
              "type": "string"
            },
            "example": "{{refreshToken}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    },
    "/post/timeline": {
      "get": {
        "tags": [
          "Post"
        ],
        "summary": "Timeline",
        "description": "This endpoint fetches all posts created by the current user or by persons who the user follows.",
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    },
    "/post/61c65f39b99a6a7ac22e06c3": {
      "get": {
        "tags": [
          "Post"
        ],
        "summary": "Get post by id",
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Post"
        ],
        "summary": "Delete post",
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    },
    "/comment/": {
      "get": {
        "tags": [
          "Post"
        ],
        "summary": "Get comments of post",
        "parameters": [
          {
            "name": "postId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "example": "61c65f39b99a6a7ac22e06c3"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      },
      "post": {
        "tags": [
          "Post"
        ],
        "summary": "Create comment",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "postId": "61c65f39b99a6a7ac22e06c3",
                  "text": "Second comment"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    },
    "/post/profile/janedoe": {
      "get": {
        "tags": [
          "Post"
        ],
        "summary": "Get posts from user",
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    },
    "/post/liked": {
      "get": {
        "tags": [
          "Post"
        ],
        "summary": "Get liked posts",
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    },
    "/post/explore": {
      "get": {
        "tags": [
          "Post"
        ],
        "summary": "Explore",
        "description": "This endpoint fetches all posts ever created.",
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    },
    "/post/bookmarked": {
      "get": {
        "tags": [
          "Post"
        ],
        "summary": "Get bookmarked posts",
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    },
    "/post": {
      "post": {
        "tags": [
          "Post"
        ],
        "summary": "Create post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "description": "Hey, this is my second post",
                  "img": "post/3.jpeg"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    },
    "/post/61c8f29e2887d8be65613212/like": {
      "put": {
        "tags": [
          "Post"
        ],
        "summary": "Like post",
        "requestBody": {
          "content": {}
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    },
    "/post/61c8f29e2887d8be65613212/bookmark": {
      "put": {
        "tags": [
          "Post"
        ],
        "summary": "Mark post",
        "requestBody": {
          "content": {}
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    },
    "/post/61c8f29e2887d8be65613212": {
      "put": {
        "tags": [
          "Post"
        ],
        "summary": "Update post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "description": "Hey, this is my second post 2"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    },
    "/file/public/logo-dark.png": {
      "get": {
        "tags": [
          "File"
        ],
        "summary": "Get file",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": {
              "type": "string"
            },
            "example": "{{accessToken}}"
          },
          {
            "name": "x-refresh",
            "in": "header",
            "schema": {
              "type": "string"
            },
            "example": "{{refreshToken}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    },
    "/file/": {
      "post": {
        "tags": [
          "File"
        ],
        "summary": "Upload file",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  },
                  "name": {
                    "type": "string",
                    "example": "like.png"
                  },
                  "folder": {
                    "type": "string",
                    "example": "public"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    },
    "/conversation": {
      "post": {
        "tags": [
          "Message"
        ],
        "summary": "Create Conversation",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "receiverId": "61a37fa7672aa6a5aa424a73"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": {
              "type": "string"
            },
            "example": "{{accessToken}}"
          },
          {
            "name": "x-refresh",
            "in": "header",
            "schema": {
              "type": "string"
            },
            "example": "{{refreshToken}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      },
      "get": {
        "tags": [
          "Message"
        ],
        "summary": "Get Conversations",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": {
              "type": "string"
            },
            "example": "{{accessToken}}"
          },
          {
            "name": "x-refresh",
            "in": "header",
            "schema": {
              "type": "string"
            },
            "example": "{{refreshToken}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    },
    "/message/61ba5a91c3452d5ea0dcff59": {
      "get": {
        "tags": [
          "Message"
        ],
        "summary": "Get messages of conversation",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": {
              "type": "string"
            },
            "example": "{{accessToken}}"
          },
          {
            "name": "x-refresh",
            "in": "header",
            "schema": {
              "type": "string"
            },
            "example": "{{refreshToken}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    },
    "/message": {
      "post": {
        "tags": [
          "Message"
        ],
        "summary": "Create Message",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "text": "Hi, this is my fifth message",
                  "conversationId": "61ba5a91c3452d5ea0dcff59"
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "schema": {
              "type": "string"
            },
            "example": "{{accessToken}}"
          },
          {
            "name": "x-refresh",
            "in": "header",
            "schema": {
              "type": "string"
            },
            "example": "{{refreshToken}}"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {}
            }
          }
        }
      }
    }
  }
}